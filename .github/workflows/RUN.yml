name: RUN-AGGREGATOR

on:
  schedule:
    - cron:  '0 * * * *'
  workflow_dispatch:
  
env:
    TELEGRAM: ${{ secrets.TELEGRAM }}
    CHAT_ID: ${{ secrets.CHAT_ID }}
    PST_KEY: ${{ secrets.PST_KEY }}
    PST_KEY_SECRET: ${{ secrets.PST_KEY_SECRET }}
    PST_TOKEN: ${{ secrets.PST_TOKEN }}
    PST_TOKEN_SECRET: ${{ secrets.PST_TOKEN_SECRET }}

jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - name: Ascete
        run:  ./ascete.ps1
      - name: Naturae
        run:  ./naturae.ps1
      - name: Antarea
        run:  ./antarea.ps1
      - name: Zoom-Nature
        run:  ./zoom-nature.ps1
      - name: Martinia
        run:  ./martinia.ps1
      - name: INPN
        run:  ./inpn.ps1
      - name: UICN-FR
        run:  ./uicnfr.ps1
      - name: Faune-France
        run:  ./faune-france.ps1
      - name: La Pie Bavarde
        run:  ./lapiebavarde.ps1
      - name: CRBPO
        run:  ./crbpoinfo.ps1
      - name: SHF
        run:  ./shf.ps1
      - name: Ornithomedia
        run:  ./ornithomedia.ps1
      - name: Oiseaux de France
        run:  ./odf.ps1
